{"version":3,"sources":["webpack:///webpack/bootstrap f993edc305ee620c8794","webpack:///./src/Utils.js","webpack:///./src/index.js","webpack:///./src/Player.js","webpack:///./src/Player2.js","webpack:///./src/Player3.js","webpack:///./src/YoutubeApi.js"],"names":["Utils","floatTime","time","hours","min","sec","minFloat","hourFloat","Math","floor","value","length","toString","name","days","expires","date","Date","setTime","getTime","toGMTString","document","cookie","nameEQ","ca","split","i","c","charAt","substring","indexOf","createCookie","s4","random","YoutubeTracker","$element","options","_$element","wrap","_youtubeAPI","afterReady","api","console","log","play_type","undefined","_player","Player","_$parent","parent","_api","_options","_isPaused","play_data","_play_data","_data_position","render","renderControls","firebase","_logRef","_uuid","readCookie","guid","videoId","attr","width","playerVars","controls","rel","showinfo","modestbranding","events","onReady","bind","onStateChange","event","offset","percent","newCursorTime","preventDefault","clientX","_$progressBar","left","duration","start_time","end_time","data_position","updateProgressBarCursor","currentTime","template","playpause","progress","picker","timer","mute","fullscreen","append","_$playButton","find","_$pauseButton","_$muteButton","_$unMuteButton","_$progressBarCursor","_$picker","_$timer","hide","on","play","pause","unMute","handleProgressBar","startTimer","empty","last_time","push","toISOString","user","videoID","data","show","playVideo","stopVideo","pauseVideo","css","timerFn","timerOut","classme","delay","setTimeout","curTime","getTimeByFloat","progressPercents","line","paddingLeft","isNaN","html","position","text","getCurrentTime","seekTo","getDuration","Player2","preview_player","_$preview","$","prepend","_previewPlayer","onPreivewStateChange","_previewPlayerState","previewCurrentTime","previewCur","Player3","quality","YoutubeApi","callback","_isLoaded","isReady","loadAPI","tag","createElement","firstTag","getElementsByTagName","src","parentNode","insertBefore","timerFunc","window","YT"],"mappings":"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","file":"YoutubeTracker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f993edc305ee620c8794","export default class Utils {\r\n  static getTimeByFloat(floatTime) {\r\n    const time = {\r\n        hours: 0,\r\n        min: 0,\r\n        sec: 0\r\n      },\r\n      minFloat = floatTime / 60,\r\n      hourFloat = minFloat / 60;\r\n\r\n    if (floatTime) {\r\n      time.sec = Math.floor(floatTime);\r\n      time.min = Math.floor(minFloat);\r\n      time.hours = Math.floor(hourFloat);\r\n      if (time.hours) {\r\n        time.min = Math.floor(minFloat - (time.hours * 60));\r\n      }\r\n      if (time.hours || time.min) {\r\n        time.sec = Math.floor(floatTime - (time.min * 60) - (time.hours * 60 * 60));\r\n      }\r\n    }\r\n    return time;\r\n  }\r\n\r\n  static paddingLeft(value, length = 2) {\r\n    if (value.toString().length < length) {\r\n      value = '0' + value;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  static createCookie(name, value, days) {\r\n    let expires;\r\n\r\n    if (days) {\r\n      let date = new Date();\r\n\r\n      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n      expires = '; expires=' + date.toGMTString();\r\n    }\r\n    else expires = '';\r\n    document.cookie = name + '=' + value + expires + '; path=/';\r\n  }\r\n\r\n  static readCookie(name) {\r\n    const nameEQ = name + '=';\r\n    const ca = document.cookie.split(';');\r\n\r\n    for (let i = 0 ; i < ca.length ; i++) {\r\n      let c = ca[i];\r\n\r\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\r\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static eraseCookie(name) {\r\n    this.createCookie(name, '', -1);\r\n  }\r\n\r\n  static guid() {\r\n    function s4() {\r\n      return Math.floor((1 + Math.random()) * 0x10000)\r\n        .toString(16)\r\n        .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n      s4() + '-' + s4() + s4() + s4();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Utils.js","import YoutubeAPI from './YoutubeApi';\r\nimport Player from './Player';\r\nimport Player2 from './Player2'\r\nimport Player3 from './Player3'\r\n\r\nexport default class YoutubeTracker {\r\n  constructor($element, options) {\r\n    this._$element = $element;\r\n    this._$element.wrap(`<div class=\"video\"></div>`);\r\n    this._youtubeAPI = new YoutubeAPI();\r\n    this._youtubeAPI.afterReady((api) => {\r\n      console.log(options);\r\n      if(options.play_type === undefined || options.play_type == 1){\r\n        this._player = new Player(this._$element, api, options);\r\n      }else if(options.play_type == 2){\r\n        this._player = new Player2(this._$element, api, options);\r\n      }else if(options.play_type == 3){\r\n        this._player = new Player3(this._$element, api, options);\r\n      }\r\n\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Utils from './Utils';\r\nexport default class Player {\r\n\r\n  constructor($element, api, options) {\r\n    this._$element = $element;\r\n    this._$parent = $element.parent();\r\n    this._api = api;\r\n    this._options = options;\r\n    this._isPaused = false;\r\n\r\n    if(options.play_data){\r\n      this._play_data = options.play_data;\r\n      this._data_position = 0;\r\n    }\r\n\r\n    this.render();\r\n    this.renderControls();\r\n\r\n    if (this._options.firebase !== undefined){\r\n      this._logRef = this._options.firebase;\r\n    }\r\n\r\n    this._uuid = Utils.readCookie(\"uuid\");\r\n    if(this._uuid === undefined || this._uuid == null){\r\n      this._uuid = Utils.guid();\r\n      Utils.createCookie(\"uuid\", this._uuid, 30);\r\n    }\r\n  }\r\n\r\n  set data_position(position){\r\n    this._data_position = position;\r\n    console.log(this._$picker.text('(' + (this.data_position +1)+ '/' + this._play_data.length + ')') );\r\n\r\n  }\r\n\r\n  get data_position(){\r\n    return this._data_position;\r\n  }\r\n\r\n  render() {\r\n    const videoId = this._options.videoId;\r\n\r\n    this._player = new this._api.Player(this._$element.attr('id'), {\r\n      videoId: videoId,\r\n      width: 640,\r\n      playerVars: {\r\n        controls: 0,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        modestbranding: 1\r\n      },\r\n      events: {\r\n        'onReady': this.onReady.bind(this),\r\n        'onStateChange': this.onStateChange.bind(this)\r\n      }\r\n    });\r\n  }\r\n\r\n  handleProgressBar(event) {\r\n    let offset, percent, newCursorTime;\r\n\r\n    event.preventDefault();\r\n    offset = event.clientX - this._$progressBar.offset().left;\r\n    percent = Math.floor(offset / (this._$progressBar.width() / 100));\r\n    newCursorTime = this.duration / 100 * percent;\r\n\r\n    if(this._play_data != undefined){\r\n      for(let i = 0 ; i < this._play_data.length ; i++){\r\n        if(this._play_data[i].start_time < newCursorTime && this._play_data[i].end_time > newCursorTime){\r\n          this.data_position = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.updateProgressBarCursor(percent);\r\n    this.currentTime = newCursorTime;\r\n  }\r\n\r\n  renderControls() {\r\n    const template = {\r\n      playpause:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn pause\"><em class=\"glyphicon glyphicon-pause\"></em></button>' +\r\n      '<button class=\"btn play\"><em class=\"glyphicon glyphicon-play\"></em></button></div>',\r\n      progress:\r\n      '<div class=\"progress-wrapper nav navbar-text\">' +\r\n      '<div class=\"progress-picker\"><div class=\"progress-bar\">&nbsp;</div></div>' +\r\n      '<div class=\"progress\"><div class=\"progress-bar\">&nbsp;</div></div>' +\r\n      '</div>',\r\n      picker:\r\n      '    <div class=\"nav navbar-text picker\"> (' +\r\n      (this.data_position + 1) + '/' + this._play_data.length  + ')' +\r\n      '</div>',\r\n      timer:\r\n        '    <div class=\"nav navbar-text timer\">00:00 | 00:00</div>',\r\n      mute:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn mute\" style=\"margin-right: 10px;\"><em class=\"glyphicon glyphicon-volume-off\"></em></button>' +\r\n      '<button class=\"btn unmute\"><em class=\"glyphicon glyphicon-volume-up\"></em></button>' +\r\n      '</div>',\r\n      fullscreen:\r\n      '        <button class=\"btn navbar-btn enterFullscreen\"><!-- --></button>' +\r\n      '        <button class=\"btn navbar-btn leaveFullscreen\"><!-- --></button>'\r\n    };\r\n\r\n    this._$parent.append(`<div class=\"controls navbar\"> <div class=\"navbar-inner\">\r\n                        ${template.playpause}\r\n                        ${template.progress}\r\n                        ${template.picker}\r\n                        ${template.timer}\r\n                        ${template.mute}</div></div>`);\r\n\r\n    this._$playButton = this._$parent.find('button.play');\r\n    this._$pauseButton = this._$parent.find('button.pause');\r\n    this._$muteButton = this._$parent.find('button.mute');\r\n    this._$unMuteButton = this._$parent.find('button.unmute');\r\n    this._$progressBar = this._$parent.find('.progress-picker');\r\n    this._$progressBarCursor = this._$parent.find('.progress > .progress-bar');\r\n    this._$picker = this._$parent.find(\".picker\");\r\n    this._$timer = this._$parent.find('.timer');\r\n\r\n    this._$pauseButton.hide();\r\n\r\n    this._$playButton.on('click', () => { this.play(); });\r\n    this._$pauseButton.on('click', () => { this.pause(); });\r\n    this._$muteButton.on('click', () => { this.mute(); });\r\n    this._$unMuteButton.on('click', () => { this.unMute(); });\r\n    this._$progressBar.on('click', (event) => {\r\n      this.handleProgressBar(event);\r\n      // console.log('hello');\r\n    });\r\n\r\n  }\r\n\r\n  onReady() {\r\n    this.startTimer();\r\n    this._$progressBar.empty();\r\n    var last_time = 0;\r\n    console.log(this.duration);\r\n    for(var i = 0 ; i < this._play_data.length ; i++){\r\n      console.log(this._play_data[i]);\r\n      var length = this._play_data[i].end_time - last_time;\r\n      this._$progressBar.append('<div class=\"progress-bar\" style=width:' + (length / this.duration * 100)+ '%;\">&nbsp;</div>');\r\n      last_time = this._play_data[i].end_time;\r\n    }\r\n  }\r\n\r\n  onStateChange(event) {\r\n\r\n    if(this._logRef !== undefined){\r\n      this._logRef.push({\r\n        date: new Date().toISOString(),\r\n        user: this._uuid,\r\n        videoID: this._options.videoId,\r\n        event: event.data == 1 ? \"Playing\" : \"Stopped\"\r\n      });\r\n    }\r\n\r\n    if (event.data === 1) { // Playing\r\n      this._$playButton.hide();\r\n      this._$pauseButton.show();\r\n    }else {\r\n      this._$playButton.show();\r\n      this._$pauseButton.hide();\r\n    }\r\n\r\n    if(event.data === 0){\r\n      this.data_position = 0;\r\n    }\r\n  }\r\n\r\n  play() {\r\n    this._player.playVideo();\r\n  }\r\n\r\n  stop() {\r\n    this._player.stopVideo();\r\n  }\r\n\r\n  pause() {\r\n    this._player.pauseVideo();\r\n  }\r\n\r\n  mute() {\r\n    this._player.mute();\r\n  }\r\n\r\n  unMute() {\r\n    this._player.unMute();\r\n  }\r\n\r\n  get currentTime() {\r\n    return this._player.getCurrentTime();\r\n  }\r\n\r\n  set currentTime(currentTime) {\r\n    if (currentTime !== undefined) this._player.seekTo(currentTime, true);\r\n  }\r\n\r\n  get duration() {\r\n    return this._player.getDuration();\r\n  }\r\n\r\n  updateProgressBarCursor(percent) {\r\n    this._$progressBarCursor.css({'width': percent + '%'});\r\n  }\r\n\r\n  startTimer() {\r\n    var timerFn, timerOut = null;\r\n    var classme = this;\r\n\r\n    ((delay) => {\r\n      setTimeout(timerFn = () => {\r\n        if (this.currentTime) {\r\n          const curTime = Utils.getTimeByFloat(this.currentTime),\r\n            duration = Utils.getTimeByFloat(this.duration),\r\n            progressPercents = Math.floor(((classme.currentTime * 100) / classme.duration) * 100) / 100;\r\n          let line;\r\n\r\n          if(this._play_data[this.data_position] && this.currentTime > this._play_data[this.data_position].end_time + 1){ // pass duration\r\n            let offset, percent, newCursorTime;\r\n\r\n            percent = Math.floor(((classme._play_data[classme.data_position].start_time * 100) / classme.duration) * 100) / 100;\r\n            newCursorTime = classme.duration / 100 * percent;\r\n            this.updateProgressBarCursor(percent);\r\n            this.currentTime = classme._play_data[this.data_position].start_time;\r\n\r\n            if(this._play_data.length > this.data_position){\r\n              this.data_position++;\r\n            }\r\n          }else{\r\n            if (duration.min) {\r\n              curTime.sec = Utils.paddingLeft(curTime.sec);\r\n              duration.sec = Utils.paddingLeft(duration.sec);\r\n            }\r\n            if (duration.hours) {\r\n              curTime.min = Utils.paddingLeft(curTime.min);\r\n              duration.min = Utils.paddingLeft(duration.min);\r\n            }\r\n            line = (duration.hours ? curTime.hours + ':' : '') +\r\n              (duration.min ? curTime.min + ':' : '') +\r\n              curTime.sec +\r\n              ' | ' +\r\n              (duration.hours ? duration.hours + ':' : '') +\r\n              (duration.min ? duration.min + ':' : '') +\r\n              duration.sec;\r\n\r\n            if (timerOut !== line && !isNaN(duration.sec)) {\r\n              this._$timer.html(line);\r\n              this.updateProgressBarCursor(progressPercents);\r\n            }\r\n            timerOut = line;\r\n          }\r\n        }\r\n        setTimeout(timerFn, delay);\r\n      }, delay);\r\n    })(150);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Player.js","import Utils from './Utils';\r\nexport default class Player2 {\r\n\r\n  constructor($element, api, options) {\r\n    this._$element = $element;\r\n    this._$parent = $element.parent();\r\n    this._api = api;\r\n    this._options = options;\r\n    this._isPaused = false;\r\n\r\n    if(options.play_data){\r\n      this._play_data = options.play_data;\r\n      this._data_position = 0;\r\n    }\r\n\r\n    this.render();\r\n    this.renderControls();\r\n\r\n    if (this._options.firebase !== undefined){\r\n      this._logRef = this._options.firebase;\r\n    }\r\n\r\n    this._uuid = Utils.readCookie(\"uuid\");\r\n    if(this._uuid === undefined || this._uuid == null){\r\n      this._uuid = Utils.guid();\r\n      Utils.createCookie(\"uuid\", this._uuid, 30);\r\n    }\r\n  }\r\n\r\n  set data_position(position){\r\n    this._data_position = position;\r\n    console.log(this._$picker.text('(' + (this.data_position +1)+ '/' + this._play_data.length + ')') );\r\n\r\n  }\r\n\r\n  get data_position(){\r\n    return this._data_position;\r\n  }\r\n\r\n  render() {\r\n    const videoId = this._options.videoId;\r\n\r\n    console.log(this._$parent);\r\n    if(this._options.preview_player){\r\n      this._$preview = $(this._options.preview_player);\r\n    }else{\r\n      this._$preview = $(`<div id=\"preview\"></div>`);\r\n      this._$parent.prepend(this._$preview);\r\n    }\r\n\r\n\r\n\r\n    this._player = new this._api.Player(this._$element.attr('id'), {\r\n      videoId: videoId,\r\n      width: 640,\r\n      playerVars: {\r\n        controls: 0,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        modestbranding: 1\r\n      },\r\n      events: {\r\n        'onReady': this.onReady.bind(this),\r\n        'onStateChange': this.onStateChange.bind(this)\r\n      }\r\n    });\r\n\r\n    this._previewPlayer = new this._api.Player(this._$preview.attr('id'), {\r\n      videoId: videoId,\r\n      width: 640,\r\n      playerVars: {\r\n        controls: 0,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        modestbranding: 1\r\n      },\r\n      events:{\r\n        'onStateChange': this.onPreivewStateChange.bind(this)\r\n      }\r\n    });\r\n  }\r\n\r\n  handleProgressBar(event) {\r\n    let offset, percent, newCursorTime;\r\n\r\n    event.preventDefault();\r\n    offset = event.clientX - this._$progressBar.offset().left;\r\n    percent = Math.floor(offset / (this._$progressBar.width() / 100));\r\n    newCursorTime = this.duration / 100 * percent;\r\n\r\n    if(this._play_data != undefined){\r\n      for(let i = 0 ; i < this._play_data.length ; i++){\r\n        if(this._play_data[i].start_time < newCursorTime && this._play_data[i].end_time > newCursorTime){\r\n          this.data_position = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.updateProgressBarCursor(percent);\r\n    this.currentTime = newCursorTime;\r\n  }\r\n\r\n  renderControls() {\r\n    const template = {\r\n      playpause:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn pause\"><em class=\"glyphicon glyphicon-pause\"></em></button>' +\r\n      '<button class=\"btn play\"><em class=\"glyphicon glyphicon-play\"></em></button></div>',\r\n      progress:\r\n      '<div class=\"progress-wrapper nav navbar-text\">' +\r\n      '<div class=\"progress-picker\"><div class=\"progress-bar\">&nbsp;</div></div>' +\r\n      '<div class=\"progress\"><div class=\"progress-bar\">&nbsp;</div></div>' +\r\n      '</div>',\r\n      picker:\r\n        '    <div class=\"nav navbar-text picker\"> (' +\r\n        (this.data_position + 1) + '/' + this._play_data.length  + ')' +\r\n      '</div>',\r\n      timer:\r\n        '    <div class=\"nav navbar-text timer\">00:00 | 00:00</div>',\r\n      mute:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn mute\" style=\"margin-right: 10px;\"><em class=\"glyphicon glyphicon-volume-off\"></em></button>' +\r\n      '<button class=\"btn unmute\"><em class=\"glyphicon glyphicon-volume-up\"></em></button>' +\r\n      '</div>',\r\n      fullscreen:\r\n      '        <button class=\"btn navbar-btn enterFullscreen\"><!-- --></button>' +\r\n      '        <button class=\"btn navbar-btn leaveFullscreen\"><!-- --></button>'\r\n    };\r\n\r\n    this._$parent.append(`<div class=\"controls navbar\"> <div class=\"navbar-inner\">\r\n                        ${template.playpause}\r\n                        ${template.progress}\r\n                        ${template.picker}\r\n                        ${template.timer}\r\n                        ${template.mute}</div></div>`);\r\n\r\n    this._$playButton = this._$parent.find('button.play');\r\n    this._$pauseButton = this._$parent.find('button.pause');\r\n    this._$muteButton = this._$parent.find('button.mute');\r\n    this._$unMuteButton = this._$parent.find('button.unmute');\r\n    this._$progressBar = this._$parent.find('.progress-picker');\r\n    this._$progressBarCursor = this._$parent.find('.progress > .progress-bar');\r\n    this._$picker = this._$parent.find(\".picker\");\r\n    this._$timer = this._$parent.find('.timer');\r\n\r\n    this._$pauseButton.hide();\r\n\r\n    this._$playButton.on('click', () => { this.play(); });\r\n    this._$pauseButton.on('click', () => { this.pause(); });\r\n    this._$muteButton.on('click', () => { this.mute(); });\r\n    this._$unMuteButton.on('click', () => { this.unMute(); });\r\n    this._$progressBar.on('click', (event) => {\r\n      this.handleProgressBar(event);\r\n      // console.log('hello');\r\n    });\r\n\r\n  }\r\n\r\n  onReady() {\r\n    this.startTimer();\r\n    this._$progressBar.empty();\r\n    var last_time = 0;\r\n    console.log(this.duration);\r\n    for(var i = 0 ; i < this._play_data.length ; i++){\r\n      console.log(this._play_data[i]);\r\n      var length = this._play_data[i].end_time - last_time;\r\n      this._$progressBar.append('<div class=\"progress-bar\" style=width:' + (length / this.duration * 100)+ '%;\">&nbsp;</div>');\r\n      last_time = this._play_data[i].end_time;\r\n    }\r\n  }\r\n\r\n\r\n  onStateChange(event) {\r\n\r\n    if(this._logRef !== undefined){\r\n      this._logRef.push({\r\n        date: new Date().toISOString(),\r\n        user: this._uuid,\r\n        videoID: this._options.videoId,\r\n        event: event.data == 1 ? \"Playing\" : \"Stopped\"\r\n      });\r\n    }\r\n\r\n    if (event.data === 1) { // Playing\r\n      this._$playButton.hide();\r\n      this._$pauseButton.show();\r\n    }else {\r\n      this._$playButton.show();\r\n      this._$pauseButton.hide();\r\n    }\r\n\r\n    if(event.data === 0){\r\n      this.data_position = 0;\r\n    }\r\n  }\r\n\r\n  onPreivewStateChange(event){\r\n    this._previewPlayerState = event.data;\r\n  }\r\n\r\n  play() {\r\n    this._player.playVideo();\r\n  }\r\n\r\n  stop() {\r\n    this._player.stopVideo();\r\n  }\r\n\r\n  pause() {\r\n    this._player.pauseVideo();\r\n  }\r\n\r\n  mute() {\r\n    this._player.mute();\r\n  }\r\n\r\n  unMute() {\r\n    this._player.unMute();\r\n  }\r\n\r\n  get currentTime() {\r\n    return this._player.getCurrentTime();\r\n  }\r\n\r\n  set currentTime(currentTime) {\r\n    if (currentTime !== undefined) this._player.seekTo(currentTime, true);\r\n  }\r\n\r\n  set previewCurrentTime(currentTime){\r\n    if (currentTime !== undefined){\r\n      this._previewPlayer.seekTo(currentTime, true);\r\n      this._previewPlayer.playVideo();\r\n    }\r\n  }\r\n\r\n  get duration() {\r\n    return this._player.getDuration();\r\n  }\r\n\r\n  updateProgressBarCursor(percent) {\r\n    this._$progressBarCursor.css({'width': percent + '%'});\r\n  }\r\n\r\n  startTimer() {\r\n    var timerFn, timerOut = null;\r\n    var classme = this;\r\n\r\n    ((delay) => {\r\n      setTimeout(timerFn = () => {\r\n        if (this.currentTime) {\r\n          const curTime = Utils.getTimeByFloat(this.currentTime),\r\n            duration = Utils.getTimeByFloat(this.duration),\r\n            progressPercents = Math.floor(((classme.currentTime * 100) / classme.duration) * 100) / 100;\r\n          let line;\r\n\r\n\r\n          if(this._play_data[this.data_position] && this.currentTime > this._play_data[this.data_position].end_time + 1){ // pass duration\r\n            console.log(this.currentTime);\r\n            classme.pause();\r\n\r\n\r\n            // preview를 구간만큼 재생한다.\r\n            let offset, percent, newCursorTime;\r\n\r\n            // percent = Math.floor(((classme._play_data[classme._data_position].start_time * 100) / classme.duration) * 100) / 100;\r\n            newCursorTime = classme.duration / 100 * percent;\r\n            // this.updateProgressBarCursor(percent);\r\n            this.previewCurrentTime = classme._play_data[this.data_position].start_time;\r\n\r\n            if(this._play_data.length > this.data_position){\r\n              this.data_position++;\r\n            }\r\n          }else if(classme._previewPlayerState != undefined && classme._previewPlayerState == 1){\r\n            let previewCur = this._previewPlayer.getCurrentTime();\r\n\r\n            if(classme.data_position >= 1 && previewCur > classme._play_data[classme.data_position-1].end_time){\r\n              classme._previewPlayer.pauseVideo();\r\n              classme.play();\r\n            }\r\n          }else{\r\n            if (duration.min) {\r\n              curTime.sec = Utils.paddingLeft(curTime.sec);\r\n              duration.sec = Utils.paddingLeft(duration.sec);\r\n            }\r\n            if (duration.hours) {\r\n              curTime.min = Utils.paddingLeft(curTime.min);\r\n              duration.min = Utils.paddingLeft(duration.min);\r\n            }\r\n            line = (duration.hours ? curTime.hours + ':' : '') +\r\n              (duration.min ? curTime.min + ':' : '') +\r\n              curTime.sec +\r\n              ' | ' +\r\n              (duration.hours ? duration.hours + ':' : '') +\r\n              (duration.min ? duration.min + ':' : '') +\r\n              duration.sec;\r\n\r\n            if (timerOut !== line && !isNaN(duration.sec)) {\r\n              this._$timer.html(line);\r\n              this.updateProgressBarCursor(progressPercents);\r\n            }\r\n            timerOut = line;\r\n          }\r\n        }\r\n        setTimeout(timerFn, delay);\r\n      }, delay);\r\n    })(150);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Player2.js","import Utils from './Utils';\r\nexport default class Player3 {\r\n\r\n  constructor($element, api, options) {\r\n    this._$element = $element;\r\n    this._$parent = $element.parent();\r\n    this._api = api;\r\n    this._options = options;\r\n    this.render();\r\n    this.renderControls();\r\n\r\n    if(options.play_data){\r\n      this._play_data = options.play_data;\r\n      this._data_position = 0;\r\n    }\r\n\r\n    if (this._options.firebase !== undefined){\r\n      this._logRef = this._options.firebase;\r\n    }\r\n\r\n    this._uuid = Utils.readCookie(\"uuid\");\r\n    if(this._uuid === undefined || this._uuid == null){\r\n      this._uuid = Utils.guid();\r\n      Utils.createCookie(\"uuid\", this._uuid, 30);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const videoId = this._options.videoId;\r\n\r\n    this._player = new this._api.Player(this._$element.attr('id'), {\r\n      videoId: videoId,\r\n      width: 640,\r\n      playerVars: {\r\n        controls: 0,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        modestbranding: 1\r\n      },\r\n      events: {\r\n        'onReady': this.onReady.bind(this),\r\n        'onStateChange': this.onStateChange.bind(this)\r\n      }\r\n    });\r\n  }\r\n\r\n  handleProgressBar(event) {\r\n    let offset, percent, newCursorTime;\r\n\r\n    event.preventDefault();\r\n    offset = event.clientX - this._$progressBar.offset().left;\r\n    percent = Math.floor(offset / (this._$progressBar.width() / 100));\r\n    newCursorTime = this.duration / 100 * percent;\r\n\r\n    if(this._play_data != undefined){\r\n      for(let i = 0 ; i < this._play_data.length ; i++){\r\n        if(this._play_data[i].start_time < newCursorTime && this._play_data[i].end_time > newCursorTime){\r\n          this._data_position = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.updateProgressBarCursor(percent);\r\n    this.currentTime = newCursorTime;\r\n  }\r\n\r\n  renderControls() {\r\n    const template = {\r\n      playpause:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn pause\"><em class=\"glyphicon glyphicon-pause\"></em></button>' +\r\n      '<button class=\"btn play\"><em class=\"glyphicon glyphicon-play\"></em></button></div>',\r\n      progress:\r\n        '    <div class=\"progress nav navbar-text\"><div class=\"progress-bar\">&nbsp;</div></div>',\r\n      quality:\r\n        '    <div class=\"nav navbar-text quality\">&nbsp;</div>',\r\n      timer:\r\n        '    <div class=\"nav navbar-text timer\">00:00 | 00:00</div>',\r\n      mute:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn mute\" style=\"margin-right: 10px;\"><em class=\"glyphicon glyphicon-volume-off\"></em></button>' +\r\n      '<button class=\"btn unmute\"><em class=\"glyphicon glyphicon-volume-up\"></em></button>' +\r\n      '</div>',\r\n      fullscreen:\r\n      '        <button class=\"btn navbar-btn enterFullscreen\"><!-- --></button>' +\r\n      '        <button class=\"btn navbar-btn leaveFullscreen\"><!-- --></button>'\r\n    };\r\n\r\n    this._$parent.append(`<div class=\"controls navbar\"> <div class=\"navbar-inner\">\r\n                        ${template.playpause}\r\n                        ${template.progress}\r\n                        ${template.quality}\r\n                        ${template.timer}\r\n                        ${template.mute}</div></div>`);\r\n\r\n    this._$playButton = this._$parent.find('button.play');\r\n    this._$pauseButton = this._$parent.find('button.pause');\r\n    this._$muteButton = this._$parent.find('button.mute');\r\n    this._$unMuteButton = this._$parent.find('button.unmute');\r\n    this._$progressBar = this._$parent.find('.progress');\r\n    this._$progressBarCursor = this._$parent.find('.progress > .progress-bar');\r\n    this._$timer = this._$parent.find('.timer');\r\n\r\n    this._$pauseButton.hide();\r\n\r\n    this._$playButton.on('click', () => { this.play(); });\r\n    this._$pauseButton.on('click', () => { this.pause(); });\r\n    this._$muteButton.on('click', () => { this.mute(); });\r\n    this._$unMuteButton.on('click', () => { this.unMute(); });\r\n    this._$progressBar.on('click', (event) => { this.handleProgressBar(event); });\r\n\r\n  }\r\n\r\n  onReady() {\r\n    this.startTimer();\r\n  }\r\n\r\n  onStateChange(event) {\r\n\r\n    if(this._logRef !== undefined){\r\n      this._logRef.push({\r\n        date: new Date().toISOString(),\r\n        user: this._uuid,\r\n        videoID: this._options.videoId,\r\n        event: event.data == 1 ? \"Playing\" : \"Stopped\"\r\n      });\r\n    }\r\n\r\n    if (event.data === 1) { // Playing\r\n      this._$playButton.hide();\r\n      this._$pauseButton.show();\r\n    }else {\r\n      this._$playButton.show();\r\n      this._$pauseButton.hide();\r\n    }\r\n\r\n    if(event.data === 0){\r\n      this._data_position = 0;\r\n    }\r\n  }\r\n\r\n  play() {\r\n    this._player.playVideo();\r\n  }\r\n\r\n  stop() {\r\n    this._player.stopVideo();\r\n  }\r\n\r\n  pause() {\r\n    this._player.pauseVideo();\r\n  }\r\n\r\n  mute() {\r\n    this._player.mute();\r\n  }\r\n\r\n  unMute() {\r\n    this._player.unMute();\r\n  }\r\n\r\n  get currentTime() {\r\n    return this._player.getCurrentTime();\r\n  }\r\n\r\n  set currentTime(currentTime) {\r\n    if (currentTime !== undefined) this._player.seekTo(currentTime, true);\r\n  }\r\n\r\n  get duration() {\r\n    return this._player.getDuration();\r\n  }\r\n\r\n  updateProgressBarCursor(percent) {\r\n    this._$progressBarCursor.css({'width': percent + '%'});\r\n  }\r\n\r\n  startTimer() {\r\n    var timerFn, timerOut = null;\r\n    var classme = this;\r\n\r\n    ((delay) => {\r\n      setTimeout(timerFn = () => {\r\n        if (this.currentTime) {\r\n          const curTime = Utils.getTimeByFloat(this.currentTime),\r\n            duration = Utils.getTimeByFloat(this.duration),\r\n            progressPercents = Math.floor(((classme.currentTime * 100) / classme.duration) * 100) / 100;\r\n          let line;\r\n\r\n          if(this._play_data[this._data_position] && this.currentTime > this._play_data[this._data_position].end_time + 1){ // pass duration\r\n            let offset, percent, newCursorTime;\r\n\r\n            percent = Math.floor(((classme._play_data[classme._data_position].start_time * 100) / classme.duration) * 100) / 100;\r\n            newCursorTime = classme.duration / 100 * percent;\r\n            this.updateProgressBarCursor(percent);\r\n            this.currentTime = classme._play_data[this._data_position].start_time;\r\n\r\n            if(this._play_data.length > this._data_position){\r\n              this._data_position++;\r\n            }\r\n          }else{\r\n            if (duration.min) {\r\n              curTime.sec = Utils.paddingLeft(curTime.sec);\r\n              duration.sec = Utils.paddingLeft(duration.sec);\r\n            }\r\n            if (duration.hours) {\r\n              curTime.min = Utils.paddingLeft(curTime.min);\r\n              duration.min = Utils.paddingLeft(duration.min);\r\n            }\r\n            line = (duration.hours ? curTime.hours + ':' : '') +\r\n              (duration.min ? curTime.min + ':' : '') +\r\n              curTime.sec +\r\n              ' | ' +\r\n              (duration.hours ? duration.hours + ':' : '') +\r\n              (duration.min ? duration.min + ':' : '') +\r\n              duration.sec;\r\n\r\n            if (timerOut !== line && !isNaN(duration.sec)) {\r\n              this._$timer.html(line);\r\n              this.updateProgressBarCursor(progressPercents);\r\n            }\r\n            timerOut = line;\r\n          }\r\n        }\r\n        setTimeout(timerFn, delay);\r\n      }, delay);\r\n    })(150);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Player3.js","/**\r\n * Created by mason on 2017-03-19.\r\n */\r\nexport default class YoutubeApi {\r\n  constructor(callback) {\r\n    this._isLoaded = false;\r\n    this.isReady || this.loadAPI();\r\n  }\r\n\r\n  loadAPI() {\r\n    this._isLoaded = true;\r\n    const tag = document.createElement('script');\r\n    const firstTag = document.getElementsByTagName('script')[0];\r\n\r\n    tag.src = '//www.youtube.com/iframe_api';\r\n    firstTag.parentNode.insertBefore(tag, firstTag);\r\n  }\r\n\r\n  get isLoaded() {\r\n    return this._isLoaded;\r\n  }\r\n\r\n  get isReady() {\r\n    return window.YT !== undefined && window.YT.Player !== undefined;\r\n  }\r\n\r\n  // @TODO :: change to promise\r\n  afterReady(callback) {\r\n    let timerFunc;\r\n\r\n    ((delay) => {\r\n      setTimeout(timerFunc = () => {\r\n        if (this.isReady) {\r\n          callback(window.YT);\r\n        } else {\r\n          setTimeout(timerFunc, delay);\r\n        }\r\n      });\r\n    })(500);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/YoutubeApi.js"],"sourceRoot":""}
{"version":3,"sources":["webpack:///webpack/bootstrap 4da8ae5de2ee65576bef","webpack:///./src/index.js","webpack:///./src/Player.js","webpack:///./src/Utils.js","webpack:///./src/YoutubeApi.js","webpack:///./src/Player2.js","webpack:///./src/Player3.js"],"names":["YoutubeTracker","$element","options","_$element","wrap","_youtubeAPI","afterReady","api","console","log","play_type","undefined","_player","Player","_$parent","parent","_api","_options","render","renderControls","play_data","_play_data","_data_position","firebase","_logRef","_uuid","readCookie","guid","createCookie","videoId","attr","width","playerVars","controls","rel","showinfo","modestbranding","events","onReady","bind","onStateChange","event","offset","percent","newCursorTime","preventDefault","clientX","_$progressBar","left","Math","floor","duration","i","length","start_time","end_time","updateProgressBarCursor","currentTime","template","playpause","progress","quality","timer","mute","fullscreen","append","_$playButton","find","_$pauseButton","_$muteButton","_$unMuteButton","_$progressBarCursor","_$timer","hide","on","play","pause","unMute","handleProgressBar","startTimer","push","date","Date","toISOString","user","videoID","data","show","playVideo","stopVideo","pauseVideo","css","timerFn","timerOut","classme","delay","setTimeout","curTime","getTimeByFloat","progressPercents","line","min","sec","paddingLeft","hours","isNaN","html","getCurrentTime","seekTo","getDuration","Utils","floatTime","time","minFloat","hourFloat","value","toString","name","days","expires","setTime","getTime","toGMTString","document","cookie","nameEQ","ca","split","c","charAt","substring","indexOf","s4","random","YoutubeApi","callback","_isLoaded","isReady","loadAPI","tag","createElement","firstTag","getElementsByTagName","src","parentNode","insertBefore","timerFunc","window","YT","Player2","_$preview","$","prepend","_previewPlayer","Player3"],"mappings":"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","file":"YoutubeTracker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4da8ae5de2ee65576bef","import YoutubeAPI from './YoutubeApi';\r\nimport Player from './Player';\r\nimport Player2 from './Player2'\r\nimport Player3 from './Player3'\r\n\r\nexport default class YoutubeTracker {\r\n  constructor($element, options) {\r\n    this._$element = $element;\r\n    this._$element.wrap(`<div class=\"video\"></div>`);\r\n    this._youtubeAPI = new YoutubeAPI();\r\n    this._youtubeAPI.afterReady((api) => {\r\n      console.log(options);\r\n      if(options.play_type === undefined || options.play_type == 1){\r\n        this._player = new Player(this._$element, api, options);\r\n      }else if(options.play_type == 2){\r\n        this._player = new Player2(this._$element, api, options);\r\n      }else if(options.play_type == 3){\r\n        this._player = new Player3(this._$element, api, options);\r\n      }\r\n\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Utils from './Utils';\r\nexport default class Player {\r\n\r\n  constructor($element, api, options) {\r\n    this._$element = $element;\r\n    this._$parent = $element.parent();\r\n    this._api = api;\r\n    this._options = options;\r\n    this.render();\r\n    this.renderControls();\r\n\r\n    if(options.play_data){\r\n      this._play_data = options.play_data;\r\n      this._data_position = 0;\r\n    }\r\n\r\n    if (this._options.firebase !== undefined){\r\n      this._logRef = this._options.firebase;\r\n    }\r\n\r\n    this._uuid = Utils.readCookie(\"uuid\");\r\n    if(this._uuid === undefined || this._uuid == null){\r\n      this._uuid = Utils.guid();\r\n      Utils.createCookie(\"uuid\", this._uuid, 30);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const videoId = this._options.videoId;\r\n\r\n    this._player = new this._api.Player(this._$element.attr('id'), {\r\n      videoId: videoId,\r\n      width: 640,\r\n      playerVars: {\r\n        controls: 0,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        modestbranding: 1\r\n      },\r\n      events: {\r\n        'onReady': this.onReady.bind(this),\r\n        'onStateChange': this.onStateChange.bind(this)\r\n      }\r\n    });\r\n  }\r\n\r\n  handleProgressBar(event) {\r\n    let offset, percent, newCursorTime;\r\n\r\n    event.preventDefault();\r\n    offset = event.clientX - this._$progressBar.offset().left;\r\n    percent = Math.floor(offset / (this._$progressBar.width() / 100));\r\n    newCursorTime = this.duration / 100 * percent;\r\n\r\n    if(this._play_data != undefined){\r\n      for(let i = 0 ; i < this._play_data.length ; i++){\r\n        if(this._play_data[i].start_time < newCursorTime && this._play_data[i].end_time > newCursorTime){\r\n          this._data_position = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.updateProgressBarCursor(percent);\r\n    this.currentTime = newCursorTime;\r\n  }\r\n\r\n  renderControls() {\r\n    const template = {\r\n      playpause:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn pause\"><em class=\"glyphicon glyphicon-pause\"></em></button>' +\r\n      '<button class=\"btn play\"><em class=\"glyphicon glyphicon-play\"></em></button></div>',\r\n      progress:\r\n        '    <div class=\"progress nav navbar-text\"><div class=\"progress-bar\">&nbsp;</div></div>',\r\n      quality:\r\n        '    <div class=\"nav navbar-text quality\">&nbsp;</div>',\r\n      timer:\r\n        '    <div class=\"nav navbar-text timer\">00:00 | 00:00</div>',\r\n      mute:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn mute\" style=\"margin-right: 10px;\"><em class=\"glyphicon glyphicon-volume-off\"></em></button>' +\r\n      '<button class=\"btn unmute\"><em class=\"glyphicon glyphicon-volume-up\"></em></button>' +\r\n      '</div>',\r\n      fullscreen:\r\n      '        <button class=\"btn navbar-btn enterFullscreen\"><!-- --></button>' +\r\n      '        <button class=\"btn navbar-btn leaveFullscreen\"><!-- --></button>'\r\n    };\r\n\r\n    this._$parent.append(`<div class=\"controls navbar\"> <div class=\"navbar-inner\">\r\n                        ${template.playpause}\r\n                        ${template.progress}\r\n                        ${template.quality}\r\n                        ${template.timer}\r\n                        ${template.mute}</div></div>`);\r\n\r\n    this._$playButton = this._$parent.find('button.play');\r\n    this._$pauseButton = this._$parent.find('button.pause');\r\n    this._$muteButton = this._$parent.find('button.mute');\r\n    this._$unMuteButton = this._$parent.find('button.unmute');\r\n    this._$progressBar = this._$parent.find('.progress');\r\n    this._$progressBarCursor = this._$parent.find('.progress > .progress-bar');\r\n    this._$timer = this._$parent.find('.timer');\r\n\r\n    this._$pauseButton.hide();\r\n\r\n    this._$playButton.on('click', () => { this.play(); });\r\n    this._$pauseButton.on('click', () => { this.pause(); });\r\n    this._$muteButton.on('click', () => { this.mute(); });\r\n    this._$unMuteButton.on('click', () => { this.unMute(); });\r\n    this._$progressBar.on('click', (event) => { this.handleProgressBar(event); });\r\n\r\n  }\r\n\r\n  onReady() {\r\n    this.startTimer();\r\n  }\r\n\r\n  onStateChange(event) {\r\n\r\n    if(this._logRef !== undefined){\r\n      this._logRef.push({\r\n        date: new Date().toISOString(),\r\n        user: this._uuid,\r\n        videoID: this._options.videoId,\r\n        event: event.data == 1 ? \"Playing\" : \"Stopped\"\r\n      });\r\n    }\r\n\r\n    if (event.data === 1) { // Playing\r\n      this._$playButton.hide();\r\n      this._$pauseButton.show();\r\n    }else {\r\n      this._$playButton.show();\r\n      this._$pauseButton.hide();\r\n    }\r\n\r\n    if(event.data === 0){\r\n      this._data_position = 0;\r\n    }\r\n  }\r\n\r\n  play() {\r\n    this._player.playVideo();\r\n  }\r\n\r\n  stop() {\r\n    this._player.stopVideo();\r\n  }\r\n\r\n  pause() {\r\n    this._player.pauseVideo();\r\n  }\r\n\r\n  mute() {\r\n    this._player.mute();\r\n  }\r\n\r\n  unMute() {\r\n    this._player.unMute();\r\n  }\r\n\r\n  get currentTime() {\r\n    return this._player.getCurrentTime();\r\n  }\r\n\r\n  set currentTime(currentTime) {\r\n    if (currentTime !== undefined) this._player.seekTo(currentTime, true);\r\n  }\r\n\r\n  get duration() {\r\n    return this._player.getDuration();\r\n  }\r\n\r\n  updateProgressBarCursor(percent) {\r\n    this._$progressBarCursor.css({'width': percent + '%'});\r\n  }\r\n\r\n  startTimer() {\r\n    var timerFn, timerOut = null;\r\n    var classme = this;\r\n\r\n    ((delay) => {\r\n      setTimeout(timerFn = () => {\r\n        if (this.currentTime) {\r\n          const curTime = Utils.getTimeByFloat(this.currentTime),\r\n            duration = Utils.getTimeByFloat(this.duration),\r\n            progressPercents = Math.floor(((classme.currentTime * 100) / classme.duration) * 100) / 100;\r\n          let line;\r\n\r\n          if(this._play_data[this._data_position] && this.currentTime > this._play_data[this._data_position].end_time + 1){ // pass duration\r\n            let offset, percent, newCursorTime;\r\n\r\n            percent = Math.floor(((classme._play_data[classme._data_position].start_time * 100) / classme.duration) * 100) / 100;\r\n            newCursorTime = classme.duration / 100 * percent;\r\n            this.updateProgressBarCursor(percent);\r\n            this.currentTime = classme._play_data[this._data_position].start_time;\r\n\r\n            if(this._play_data.length > this._data_position){\r\n              this._data_position++;\r\n            }\r\n          }else{\r\n            if (duration.min) {\r\n              curTime.sec = Utils.paddingLeft(curTime.sec);\r\n              duration.sec = Utils.paddingLeft(duration.sec);\r\n            }\r\n            if (duration.hours) {\r\n              curTime.min = Utils.paddingLeft(curTime.min);\r\n              duration.min = Utils.paddingLeft(duration.min);\r\n            }\r\n            line = (duration.hours ? curTime.hours + ':' : '') +\r\n              (duration.min ? curTime.min + ':' : '') +\r\n              curTime.sec +\r\n              ' | ' +\r\n              (duration.hours ? duration.hours + ':' : '') +\r\n              (duration.min ? duration.min + ':' : '') +\r\n              duration.sec;\r\n\r\n            if (timerOut !== line && !isNaN(duration.sec)) {\r\n              this._$timer.html(line);\r\n              this.updateProgressBarCursor(progressPercents);\r\n            }\r\n            timerOut = line;\r\n          }\r\n        }\r\n        setTimeout(timerFn, delay);\r\n      }, delay);\r\n    })(150);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Player.js","export default class Utils {\r\n  static getTimeByFloat(floatTime) {\r\n    const time = {\r\n        hours: 0,\r\n        min: 0,\r\n        sec: 0\r\n      },\r\n      minFloat = floatTime / 60,\r\n      hourFloat = minFloat / 60;\r\n\r\n    if (floatTime) {\r\n      time.sec = Math.floor(floatTime);\r\n      time.min = Math.floor(minFloat);\r\n      time.hours = Math.floor(hourFloat);\r\n      if (time.hours) {\r\n        time.min = Math.floor(minFloat - (time.hours * 60));\r\n      }\r\n      if (time.hours || time.min) {\r\n        time.sec = Math.floor(floatTime - (time.min * 60) - (time.hours * 60 * 60));\r\n      }\r\n    }\r\n    return time;\r\n  }\r\n\r\n  static paddingLeft(value, length = 2) {\r\n    if (value.toString().length < length) {\r\n      value = '0' + value;\r\n    }\r\n    return value;\r\n  }\r\n\r\n  static createCookie(name, value, days) {\r\n    let expires;\r\n\r\n    if (days) {\r\n      let date = new Date();\r\n\r\n      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n      expires = '; expires=' + date.toGMTString();\r\n    }\r\n    else expires = '';\r\n    document.cookie = name + '=' + value + expires + '; path=/';\r\n  }\r\n\r\n  static readCookie(name) {\r\n    const nameEQ = name + '=';\r\n    const ca = document.cookie.split(';');\r\n\r\n    for (let i = 0 ; i < ca.length ; i++) {\r\n      let c = ca[i];\r\n\r\n      while (c.charAt(0) === ' ') c = c.substring(1, c.length);\r\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static eraseCookie(name) {\r\n    this.createCookie(name, '', -1);\r\n  }\r\n\r\n  static guid() {\r\n    function s4() {\r\n      return Math.floor((1 + Math.random()) * 0x10000)\r\n        .toString(16)\r\n        .substring(1);\r\n    }\r\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n      s4() + '-' + s4() + s4() + s4();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Utils.js","/**\r\n * Created by mason on 2017-03-19.\r\n */\r\nexport default class YoutubeApi {\r\n  constructor(callback) {\r\n    this._isLoaded = false;\r\n    this.isReady || this.loadAPI();\r\n  }\r\n\r\n  loadAPI() {\r\n    this._isLoaded = true;\r\n    const tag = document.createElement('script');\r\n    const firstTag = document.getElementsByTagName('script')[0];\r\n\r\n    tag.src = '//www.youtube.com/iframe_api';\r\n    firstTag.parentNode.insertBefore(tag, firstTag);\r\n  }\r\n\r\n  get isLoaded() {\r\n    return this._isLoaded;\r\n  }\r\n\r\n  get isReady() {\r\n    return window.YT !== undefined && window.YT.Player !== undefined;\r\n  }\r\n\r\n  // @TODO :: change to promise\r\n  afterReady(callback) {\r\n    let timerFunc;\r\n\r\n    ((delay) => {\r\n      setTimeout(timerFunc = () => {\r\n        if (this.isReady) {\r\n          callback(window.YT);\r\n        } else {\r\n          setTimeout(timerFunc, delay);\r\n        }\r\n      });\r\n    })(500);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/YoutubeApi.js","import Utils from './Utils';\r\nexport default class Player2 {\r\n\r\n  constructor($element, api, options) {\r\n    this._$element = $element;\r\n    this._$parent = $element.parent();\r\n    this._api = api;\r\n    this._options = options;\r\n    this.render();\r\n    this.renderControls();\r\n\r\n    if(options.play_data){\r\n      this._play_data = options.play_data;\r\n      this._data_position = 0;\r\n    }\r\n\r\n    if (this._options.firebase !== undefined){\r\n      this._logRef = this._options.firebase;\r\n    }\r\n\r\n    this._uuid = Utils.readCookie(\"uuid\");\r\n    if(this._uuid === undefined || this._uuid == null){\r\n      this._uuid = Utils.guid();\r\n      Utils.createCookie(\"uuid\", this._uuid, 30);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const videoId = this._options.videoId;\r\n\r\n    console.log(this._$parent);\r\n    this._$preview = $(`<div id=\"preview\"></div>`);\r\n    this._$parent.prepend(this._$preview);\r\n\r\n\r\n    this._player = new this._api.Player(this._$element.attr('id'), {\r\n      videoId: videoId,\r\n      width: 640,\r\n      playerVars: {\r\n        controls: 0,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        modestbranding: 1\r\n      },\r\n      events: {\r\n        'onReady': this.onReady.bind(this),\r\n        'onStateChange': this.onStateChange.bind(this)\r\n      }\r\n    });\r\n\r\n    this._previewPlayer = new this._api.Player(this._$preview.attr('id'), {\r\n      videoId: videoId,\r\n      width: 640,\r\n      playerVars: {\r\n        controls: 0,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        modestbranding: 1\r\n      }\r\n    });\r\n  }\r\n\r\n  handleProgressBar(event) {\r\n    let offset, percent, newCursorTime;\r\n\r\n    event.preventDefault();\r\n    offset = event.clientX - this._$progressBar.offset().left;\r\n    percent = Math.floor(offset / (this._$progressBar.width() / 100));\r\n    newCursorTime = this.duration / 100 * percent;\r\n\r\n    if(this._play_data != undefined){\r\n      for(let i = 0 ; i < this._play_data.length ; i++){\r\n        if(this._play_data[i].start_time < newCursorTime && this._play_data[i].end_time > newCursorTime){\r\n          this._data_position = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.updateProgressBarCursor(percent);\r\n    this.currentTime = newCursorTime;\r\n  }\r\n\r\n  renderControls() {\r\n    const template = {\r\n      playpause:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn pause\"><em class=\"glyphicon glyphicon-pause\"></em></button>' +\r\n      '<button class=\"btn play\"><em class=\"glyphicon glyphicon-play\"></em></button></div>',\r\n      progress:\r\n        '    <div class=\"progress nav navbar-text\"><div class=\"progress-bar\">&nbsp;</div></div>',\r\n      quality:\r\n        '    <div class=\"nav navbar-text quality\">&nbsp;</div>',\r\n      timer:\r\n        '    <div class=\"nav navbar-text timer\">00:00 | 00:00</div>',\r\n      mute:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn mute\" style=\"margin-right: 10px;\"><em class=\"glyphicon glyphicon-volume-off\"></em></button>' +\r\n      '<button class=\"btn unmute\"><em class=\"glyphicon glyphicon-volume-up\"></em></button>' +\r\n      '</div>',\r\n      fullscreen:\r\n      '        <button class=\"btn navbar-btn enterFullscreen\"><!-- --></button>' +\r\n      '        <button class=\"btn navbar-btn leaveFullscreen\"><!-- --></button>'\r\n    };\r\n\r\n    this._$parent.append(`<div class=\"controls navbar\"> <div class=\"navbar-inner\">\r\n                        ${template.playpause}\r\n                        ${template.progress}\r\n                        ${template.quality}\r\n                        ${template.timer}\r\n                        ${template.mute}</div></div>`);\r\n\r\n    this._$playButton = this._$parent.find('button.play');\r\n    this._$pauseButton = this._$parent.find('button.pause');\r\n    this._$muteButton = this._$parent.find('button.mute');\r\n    this._$unMuteButton = this._$parent.find('button.unmute');\r\n    this._$progressBar = this._$parent.find('.progress');\r\n    this._$progressBarCursor = this._$parent.find('.progress > .progress-bar');\r\n    this._$timer = this._$parent.find('.timer');\r\n\r\n    this._$pauseButton.hide();\r\n\r\n    this._$playButton.on('click', () => { this.play(); });\r\n    this._$pauseButton.on('click', () => { this.pause(); });\r\n    this._$muteButton.on('click', () => { this.mute(); });\r\n    this._$unMuteButton.on('click', () => { this.unMute(); });\r\n    this._$progressBar.on('click', (event) => { this.handleProgressBar(event); });\r\n\r\n  }\r\n\r\n  onReady() {\r\n    this.startTimer();\r\n  }\r\n\r\n  onStateChange(event) {\r\n\r\n    if(this._logRef !== undefined){\r\n      this._logRef.push({\r\n        date: new Date().toISOString(),\r\n        user: this._uuid,\r\n        videoID: this._options.videoId,\r\n        event: event.data == 1 ? \"Playing\" : \"Stopped\"\r\n      });\r\n    }\r\n\r\n    if (event.data === 1) { // Playing\r\n      this._$playButton.hide();\r\n      this._$pauseButton.show();\r\n    }else {\r\n      this._$playButton.show();\r\n      this._$pauseButton.hide();\r\n    }\r\n\r\n    if(event.data === 0){\r\n      this._data_position = 0;\r\n    }\r\n  }\r\n\r\n  play() {\r\n    this._player.playVideo();\r\n  }\r\n\r\n  stop() {\r\n    this._player.stopVideo();\r\n  }\r\n\r\n  pause() {\r\n    this._player.pauseVideo();\r\n  }\r\n\r\n  mute() {\r\n    this._player.mute();\r\n  }\r\n\r\n  unMute() {\r\n    this._player.unMute();\r\n  }\r\n\r\n  get currentTime() {\r\n    return this._player.getCurrentTime();\r\n  }\r\n\r\n  set currentTime(currentTime) {\r\n    if (currentTime !== undefined) this._player.seekTo(currentTime, true);\r\n  }\r\n\r\n  get duration() {\r\n    return this._player.getDuration();\r\n  }\r\n\r\n  updateProgressBarCursor(percent) {\r\n    this._$progressBarCursor.css({'width': percent + '%'});\r\n  }\r\n\r\n  startTimer() {\r\n    var timerFn, timerOut = null;\r\n    var classme = this;\r\n\r\n    ((delay) => {\r\n      setTimeout(timerFn = () => {\r\n        if (this.currentTime) {\r\n          const curTime = Utils.getTimeByFloat(this.currentTime),\r\n            duration = Utils.getTimeByFloat(this.duration),\r\n            progressPercents = Math.floor(((classme.currentTime * 100) / classme.duration) * 100) / 100;\r\n          let line;\r\n\r\n          if(this._play_data[this._data_position] && this.currentTime > this._play_data[this._data_position].end_time + 1){ // pass duration\r\n            classme.pause();\r\n\r\n            // preview를 구간만큼 재생한다.\r\n            let offset, percent, newCursorTime;\r\n\r\n            percent = Math.floor(((classme._play_data[classme._data_position].start_time * 100) / classme.duration) * 100) / 100;\r\n            newCursorTime = classme.duration / 100 * percent;\r\n            this.updateProgressBarCursor(percent);\r\n            this.currentTime = classme._play_data[this._data_position].start_time;\r\n\r\n            if(this._play_data.length > this._data_position){\r\n              this._data_position++;\r\n            }\r\n          }else{\r\n            if (duration.min) {\r\n              curTime.sec = Utils.paddingLeft(curTime.sec);\r\n              duration.sec = Utils.paddingLeft(duration.sec);\r\n            }\r\n            if (duration.hours) {\r\n              curTime.min = Utils.paddingLeft(curTime.min);\r\n              duration.min = Utils.paddingLeft(duration.min);\r\n            }\r\n            line = (duration.hours ? curTime.hours + ':' : '') +\r\n              (duration.min ? curTime.min + ':' : '') +\r\n              curTime.sec +\r\n              ' | ' +\r\n              (duration.hours ? duration.hours + ':' : '') +\r\n              (duration.min ? duration.min + ':' : '') +\r\n              duration.sec;\r\n\r\n            if (timerOut !== line && !isNaN(duration.sec)) {\r\n              this._$timer.html(line);\r\n              this.updateProgressBarCursor(progressPercents);\r\n            }\r\n            timerOut = line;\r\n          }\r\n        }\r\n        setTimeout(timerFn, delay);\r\n      }, delay);\r\n    })(150);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Player2.js","import Utils from './Utils';\r\nexport default class Player3 {\r\n\r\n  constructor($element, api, options) {\r\n    this._$element = $element;\r\n    this._$parent = $element.parent();\r\n    this._api = api;\r\n    this._options = options;\r\n    this.render();\r\n    this.renderControls();\r\n\r\n    if(options.play_data){\r\n      this._play_data = options.play_data;\r\n      this._data_position = 0;\r\n    }\r\n\r\n    if (this._options.firebase !== undefined){\r\n      this._logRef = this._options.firebase;\r\n    }\r\n\r\n    this._uuid = Utils.readCookie(\"uuid\");\r\n    if(this._uuid === undefined || this._uuid == null){\r\n      this._uuid = Utils.guid();\r\n      Utils.createCookie(\"uuid\", this._uuid, 30);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const videoId = this._options.videoId;\r\n\r\n    this._player = new this._api.Player(this._$element.attr('id'), {\r\n      videoId: videoId,\r\n      width: 640,\r\n      playerVars: {\r\n        controls: 0,\r\n        rel: 0,\r\n        showinfo: 0,\r\n        modestbranding: 1\r\n      },\r\n      events: {\r\n        'onReady': this.onReady.bind(this),\r\n        'onStateChange': this.onStateChange.bind(this)\r\n      }\r\n    });\r\n  }\r\n\r\n  handleProgressBar(event) {\r\n    let offset, percent, newCursorTime;\r\n\r\n    event.preventDefault();\r\n    offset = event.clientX - this._$progressBar.offset().left;\r\n    percent = Math.floor(offset / (this._$progressBar.width() / 100));\r\n    newCursorTime = this.duration / 100 * percent;\r\n\r\n    if(this._play_data != undefined){\r\n      for(let i = 0 ; i < this._play_data.length ; i++){\r\n        if(this._play_data[i].start_time < newCursorTime && this._play_data[i].end_time > newCursorTime){\r\n          this._data_position = i;\r\n        }\r\n      }\r\n    }\r\n\r\n    this.updateProgressBarCursor(percent);\r\n    this.currentTime = newCursorTime;\r\n  }\r\n\r\n  renderControls() {\r\n    const template = {\r\n      playpause:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn pause\"><em class=\"glyphicon glyphicon-pause\"></em></button>' +\r\n      '<button class=\"btn play\"><em class=\"glyphicon glyphicon-play\"></em></button></div>',\r\n      progress:\r\n        '    <div class=\"progress nav navbar-text\"><div class=\"progress-bar\">&nbsp;</div></div>',\r\n      quality:\r\n        '    <div class=\"nav navbar-text quality\">&nbsp;</div>',\r\n      timer:\r\n        '    <div class=\"nav navbar-text timer\">00:00 | 00:00</div>',\r\n      mute:\r\n      '<div class=\"navbar-left nav\">' +\r\n      '<button class=\"btn mute\" style=\"margin-right: 10px;\"><em class=\"glyphicon glyphicon-volume-off\"></em></button>' +\r\n      '<button class=\"btn unmute\"><em class=\"glyphicon glyphicon-volume-up\"></em></button>' +\r\n      '</div>',\r\n      fullscreen:\r\n      '        <button class=\"btn navbar-btn enterFullscreen\"><!-- --></button>' +\r\n      '        <button class=\"btn navbar-btn leaveFullscreen\"><!-- --></button>'\r\n    };\r\n\r\n    this._$parent.append(`<div class=\"controls navbar\"> <div class=\"navbar-inner\">\r\n                        ${template.playpause}\r\n                        ${template.progress}\r\n                        ${template.quality}\r\n                        ${template.timer}\r\n                        ${template.mute}</div></div>`);\r\n\r\n    this._$playButton = this._$parent.find('button.play');\r\n    this._$pauseButton = this._$parent.find('button.pause');\r\n    this._$muteButton = this._$parent.find('button.mute');\r\n    this._$unMuteButton = this._$parent.find('button.unmute');\r\n    this._$progressBar = this._$parent.find('.progress');\r\n    this._$progressBarCursor = this._$parent.find('.progress > .progress-bar');\r\n    this._$timer = this._$parent.find('.timer');\r\n\r\n    this._$pauseButton.hide();\r\n\r\n    this._$playButton.on('click', () => { this.play(); });\r\n    this._$pauseButton.on('click', () => { this.pause(); });\r\n    this._$muteButton.on('click', () => { this.mute(); });\r\n    this._$unMuteButton.on('click', () => { this.unMute(); });\r\n    this._$progressBar.on('click', (event) => { this.handleProgressBar(event); });\r\n\r\n  }\r\n\r\n  onReady() {\r\n    this.startTimer();\r\n  }\r\n\r\n  onStateChange(event) {\r\n\r\n    if(this._logRef !== undefined){\r\n      this._logRef.push({\r\n        date: new Date().toISOString(),\r\n        user: this._uuid,\r\n        videoID: this._options.videoId,\r\n        event: event.data == 1 ? \"Playing\" : \"Stopped\"\r\n      });\r\n    }\r\n\r\n    if (event.data === 1) { // Playing\r\n      this._$playButton.hide();\r\n      this._$pauseButton.show();\r\n    }else {\r\n      this._$playButton.show();\r\n      this._$pauseButton.hide();\r\n    }\r\n\r\n    if(event.data === 0){\r\n      this._data_position = 0;\r\n    }\r\n  }\r\n\r\n  play() {\r\n    this._player.playVideo();\r\n  }\r\n\r\n  stop() {\r\n    this._player.stopVideo();\r\n  }\r\n\r\n  pause() {\r\n    this._player.pauseVideo();\r\n  }\r\n\r\n  mute() {\r\n    this._player.mute();\r\n  }\r\n\r\n  unMute() {\r\n    this._player.unMute();\r\n  }\r\n\r\n  get currentTime() {\r\n    return this._player.getCurrentTime();\r\n  }\r\n\r\n  set currentTime(currentTime) {\r\n    if (currentTime !== undefined) this._player.seekTo(currentTime, true);\r\n  }\r\n\r\n  get duration() {\r\n    return this._player.getDuration();\r\n  }\r\n\r\n  updateProgressBarCursor(percent) {\r\n    this._$progressBarCursor.css({'width': percent + '%'});\r\n  }\r\n\r\n  startTimer() {\r\n    var timerFn, timerOut = null;\r\n    var classme = this;\r\n\r\n    ((delay) => {\r\n      setTimeout(timerFn = () => {\r\n        if (this.currentTime) {\r\n          const curTime = Utils.getTimeByFloat(this.currentTime),\r\n            duration = Utils.getTimeByFloat(this.duration),\r\n            progressPercents = Math.floor(((classme.currentTime * 100) / classme.duration) * 100) / 100;\r\n          let line;\r\n\r\n          if(this._play_data[this._data_position] && this.currentTime > this._play_data[this._data_position].end_time + 1){ // pass duration\r\n            let offset, percent, newCursorTime;\r\n\r\n            percent = Math.floor(((classme._play_data[classme._data_position].start_time * 100) / classme.duration) * 100) / 100;\r\n            newCursorTime = classme.duration / 100 * percent;\r\n            this.updateProgressBarCursor(percent);\r\n            this.currentTime = classme._play_data[this._data_position].start_time;\r\n\r\n            if(this._play_data.length > this._data_position){\r\n              this._data_position++;\r\n            }\r\n          }else{\r\n            if (duration.min) {\r\n              curTime.sec = Utils.paddingLeft(curTime.sec);\r\n              duration.sec = Utils.paddingLeft(duration.sec);\r\n            }\r\n            if (duration.hours) {\r\n              curTime.min = Utils.paddingLeft(curTime.min);\r\n              duration.min = Utils.paddingLeft(duration.min);\r\n            }\r\n            line = (duration.hours ? curTime.hours + ':' : '') +\r\n              (duration.min ? curTime.min + ':' : '') +\r\n              curTime.sec +\r\n              ' | ' +\r\n              (duration.hours ? duration.hours + ':' : '') +\r\n              (duration.min ? duration.min + ':' : '') +\r\n              duration.sec;\r\n\r\n            if (timerOut !== line && !isNaN(duration.sec)) {\r\n              this._$timer.html(line);\r\n              this.updateProgressBarCursor(progressPercents);\r\n            }\r\n            timerOut = line;\r\n          }\r\n        }\r\n        setTimeout(timerFn, delay);\r\n      }, delay);\r\n    })(150);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/Player3.js"],"sourceRoot":""}